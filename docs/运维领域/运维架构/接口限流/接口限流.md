# 思路

应用对外接口进行限流, 防止因为外部调用次数过多, 导致服务短时间内不能处理请求, 形成服务假死的现象

虽然也可以通过自动水平扩容实现效果, 但是扩容仍然需要一段时间, 在该时间内服务仍然是不可用状态

限流不能阻断接口攻击, 阻断接口攻击需要另外的项目去做

项目整体接口/单独接口限流

实现思路: 

通过量 + 通过频率

漏桶/令牌桶 + 固定窗口/滑动窗口

漏桶: 存请求、抽请求、发送请求, 有额外消耗, 保持稳定效果更加明显

令牌桶: 生成令牌, 查询令牌, 额外消耗更小, 稳定性更低

固定窗口: 例如每n秒使用一次桶策略

滑动窗口: 例如每n+m秒使用一次桶策略



影响通过量的因素:

当前服务的线程量、中间件承载量

下一级服务的通过量



